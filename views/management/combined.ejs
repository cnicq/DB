
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title><%= title %></title>
  
<link rel="stylesheet" type="text/css" media="screen" href="/jqgrid/themes/redmond/jquery-ui-1.8.2.custom.css" />
<link rel="stylesheet" type="text/css" media="screen" href="/jqgrid/themes/ui.jqgrid.css" />
<link rel="stylesheet" type="text/css" media="screen" href="/jqgrid/themes/ui.multiselect.css" />
<style>
html, body {
  margin: 0;      /* Remove body margin/padding */
  padding: 0;
  overflow: hidden; /* Remove scroll bars on browser window */  
    font-size: 75%;
}
/*Splitter style */


#LeftPane {
  /* optional, initial splitbar position */
  overflow: auto;
}
/*
 * Right-side element of the splitter.
*/

#RightPane {
  padding: 2px;
  overflow: auto;
}
.ui-tabs-nav li {position: relative;}
.ui-tabs-selected a span {padding-right: 10px;}
.ui-tabs-close {display: none;position: absolute;top: 3px;right: 0px;z-index: 800;width: 16px;height: 14px;font-size: 10px; font-style: normal;cursor: pointer;}
.ui-tabs-selected .ui-tabs-close {display: block;}
.ui-layout-west .ui-jqgrid tr.jqgrow td { border-bottom: 0px none;}
.ui-datepicker {z-index:1200;}
.rotate
    {
        /* for Safari */
        -webkit-transform: rotate(-90deg);

        /* for Firefox */
        -moz-transform: rotate(-90deg);

        /* for Internet Explorer */
        filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=3);
    }

</style>

<script src="/jqgrid/js/jquery.min.js" type="text/javascript"></script>
<script src="/jqgrid/js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script>
<script src="/jqgrid/js/jquery.layout.js" type="text/javascript"></script>
<script src="/jqgrid/js/i18n/grid.locale-en.js" type="text/javascript"></script>
<script type="text/javascript">
  $.jgrid.no_legacy_api = true;
  $.jgrid.useJSON = true;
</script>
<script src="/jqgrid/js/ui.multiselect.js" type="text/javascript"></script>
<script src="/jqgrid/js/jquery.jqGrid.js" type="text/javascript"></script>
<script src="/jqgrid/js/jquery.tablednd.js" type="text/javascript"></script>
<script src="/jqgrid/js/jquery.contextmenu.js" type="text/javascript"></script>
<script type="text/javascript">
$(document).ready(function(){

 $("#rowed3").jqGrid({
    url:'/management/combineddata/list/',
    datatype: "json",
    colNames:['ID','Name','Catalog', 'UpdateTime'],
    colModel:[
      {name:'_id',index:'_id', width:155,jsonmap:"_id"},
      {name:'Name',index:'Name', width:260,jsonmap:"NameLoc.0.Chinese"},
      {name:'Catalog',index:'Catalog', width:190, editable:true,edittype:"select", editoptions : {value:'<%= CatalogOptions %>'},jsonmap:"CatalogNames.0"},
      {name:'UpdateTime',index:'UpdateTime', width:100}
    ],
    jsonReader: {
        repeatitems: false,
        id: "id",
    },
    width:900,
    rowNum:100,
    rowList:[100,200,300],
    pager: '#prowed3',
    sortname: 'Name',
    viewrecords: true,
    sortorder: "desc",
    editurl: "/management/combineddata/update",
    caption: "CombinedData",
    multiselect: false,
    mtype: "GET", 
});
$("#rowed3").jqGrid('navGrid',"#prowed3",{edit:true,add:false,del:false},{
        //edit parameters
        ajaxEditOptions: jsonOptions,
        serializeEditData: createJSON,
        closeAfterEdit: true
});

$("#rowed3").jqGrid('inlineNav',"#prowed3");

var jsonOptions = {
    type :"POST",
    contentType :"application/json; charset=utf-8",
    dataType :"json"
};

function createJSON(postdata) {
    var rowdata = $("#rowed3").jqGrid('getRowData', (postdata.id));
    postdata['_id'] = (rowdata._id);
    return (postdata);
}
});
  
</script>
</head>
<body>
    <table id="rowed3"></table>
  <div id="prowed3"></div>
  </body>
</html>